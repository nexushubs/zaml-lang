(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{117:function(e,t,n){},120:function(e,t,n){},122:function(e,t,n){},141:function(e,t,n){},143:function(e,t,n){},145:function(e,t,n){},147:function(e,t,n){},149:function(e,t,n){},152:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),o=n(16),i=n.n(o),c=(n(77),n(8)),l=n(9),s=n(11),u=n(10),d=n(12),h=(n(79),n(58)),m=function(e){function t(){return Object(c.a)(this,t),Object(s.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"App"},r.a.createElement(h.a,{defaultSource:"#\u5404\u65b9\u57fa\u672c\u4fe1\u606f\n\u7532\u65b9\uff1a[\u5317\u4eac\u661f\u6838\u8f6f\u4ef6\u6709\u9650\u516c\u53f8]{ORG}\n\u7edf\u4e00\u793e\u4f1a\u4fe1\u7528\u4ee3\u7801\uff1a[345976348]{SOC}\n\u6cd5\u5b9a\u4ee3\u8868\u4eba\uff1a[\u5f20\u9e3f\u5cf0]{PER}\n\u5730\u5740\uff1a[\u5317\u4eac\u5e02\u671d\u9633\u533a\u65b9\u6052\u56fd\u9645D\u5ea72806]{LOC}\n\u4e59\u65b9\uff1a[\u5b59\u7ee7\u987a]{PER}\n\u8eab\u4efd\u8bc1\u53f7\uff1a[230101197701018888]{ID}\n\u624b\u673a\u53f7\uff1a[13945018888]{MOBILE}\n---\n\n\u7532\u4e59\u53cc\u65b9\u7ecf\u53cb\u597d\u534f\u5546\uff0c\u8fbe\u6210\u5982\u4e0b\u534f\u8bae\u3002\n\n#\u6807\u7684.\u79df\u8d41 #\u63cf\u8ff0\n\u4e00\u3001{#\u6807\u7684.\u79df\u8d41 #\u63cf\u8ff0.\u5730\u5740 #\u63cf\u8ff0.\u6570\u91cf \u7532\u65b9\u79df\u8d41\u4e59\u65b9\u6240\u6709\u7684\u4f4d\u4e8e[\u5317\u4eac\u5e02\u671d\u9633\u533a\u5357\u78e8\u623f\u8def37\u53f7]{LOC}\u95e8\u5e02\u623f[\u4e00\u95f4]{QT}}\u3002{#\u63cf\u8ff0.\u9762\u79ef \u4f7f\u7528\u9762\u79ef\u4e3a[105\u5e73\u65b9\u7c73]{AREA}}\u3002{#\u6807\u7684.\u79df\u8d41.\u79df\u671f \u79df\u671f\u4e3a[2019\u5e741\u67081\u65e5]{DATE}\u81f3[2019\u5e7412\u670831\u65e5]{DATE}}\uff1b{#\u6807\u7684.\u79df\u8d41.\u79df\u91d1 \u79df\u91d1\u4e3a[\u5341\u4e07\u5143\u4eba\u6c11\u5e01]{MONEY value=100000}}\u3002\n\n#\u6807\u7684.\u79df\u8d41.\u7528\u9014\n\u4e8c\u3001\u8be5\u95e8\u5e02\u623f\u7684\u7528\u9014\u4e3a\u65b0\u6ce8\u518c\u516c\u53f8\u7684\u7ecf\u8425\u5730\u3002\n\n#\u6807\u7684.\u4ed8\u6b3e\u65b9\u5f0f.\u94f6\u884c #\u6807\u7684.\u79df\u8d41.\u8ba1\u8d39\u65b9\u5f0f.\u6309\u6708\u7ed3\u7b97\n\u4e09\u3001\u79df\u91d1\u6309\u6708\u7ed3\u7b97\u3002{#\u7ea6\u5b9a.\u627f\u79df\u65b9.\u652f\u4ed8.\u79df\u91d1 \u7532\u65b9\u6bcf\u6708[\u4e00\u65e5]{DATE}\u5411\u4e59\u65b9\u6307\u5b9a\u8d26\u6237\u4e00\u6b21\u6c47\u5165\u5f53\u6708\u79df\u91d1\u3002}\n\n#\u7ea6\u5b9a.\u627f\u79df\u65b9.\u652f\u4ed8.\u5b9a\u91d1 #\u4e8b\u4ef6.\u5408\u540c\u751f\u6548\n\u56db\u3001\u7532\u65b9\u5e94\u4e8e\u5408\u540c\u751f\u6548\u8d77[\u4e94\u65e5\u5185]{DUE}\u5411\u4e59\u65b9\u652f\u4ed8\u5b9a\u91d1[\u4e00\u4e07\u5143\u6574]{MONEY}\u3002\n\n#\u7ea6\u5b9a.\u51fa\u79df\u65b9.\u4ea4\u4ed8.\u79df\u8d41\u7269 #\u4e8b\u4ef6.\u5c65\u7ea6.\u51fa\u79df\u65b9.\u4ea4\u4ed8\n\u4e94\u3001\u4e59\u65b9\u5e94\u5728\u6536\u5230\u5b9a\u91d1\u7ed9\u4ea4\u7ed9\u4e59\u65b9\u94a5\u5319\u7528\u4e8e\u63d0\u524d\u88c5\u4fee\u3002\u88c5\u4fee\u8d39\u7528\u7531\u7532\u65b9\u81ea\u884c\u627f\u62c5\u3002\n\n#\u7ea6\u5b9a\n\u516d\u3001{#\u7ea6\u5b9a.\u627f\u79df\u65b9.\u652f\u4ed8.\u62bc\u91d1 \u7532\u65b9\u5e94\u4e8e[\u8ba1\u79df\u65e5\u524d]{DUE}\u5411\u4e59\u65b9\u652f\u4ed8\u62bc\u91d1[\u4e00\u4e07\u5143\u6574]{MONEY}\u3002}{#\u7ea6\u5b9a.\u51fa\u79df\u65b9.\u8fd4\u8fd8\u62bc\u91d1 #\u4e8b\u4ef6.\u5408\u540c\u671f\u6ee1 #\u4e8b\u4ef6.\u5408\u540c\u89e3\u9664 \u79df\u8d41\u671f\u6ee1\u6216\u5408\u540c\u89e3\u9664\u540e[\u4e24\u65e5\u5185]{DUE}\uff0c\u4e59\u65b9\u5e94\u65e0\u606f\u8fd4\u8fd8\u3002}\n\n{#\u4e8b\u4ef6.\u8fdd\u7ea6 #\u8fdd\u7ea6\u8d23\u4efb\n  \u4e03\u3001\u8fdd\u7ea6\u8d23\u4efb\n\n  #\u4e8b\u4ef6.\u8fdd\u7ea6 #\u8fdd\u7ea6.\u4ed8\u6b3e\u65b9.\u4ed8\u6b3e #\u8fdd\u7ea6\u8d23\u4efb.\u8865\u507f.\u8fdd\u7ea6\u91d1 #\u8fdd\u7ea6\u8d23\u4efb.\u8865\u507f.\u8fdd\u7ea6\u91d1.\u8ba1\u7b97\u65b9\u5f0f.\u6bcf\u903e\u671f\u4e00\u5929\n  1. \u4ed8\u6b3e\u65b9\u672a\u6309\u7167\u7ea6\u5b9a\u4ed8\u6b3e\u7684\uff0c\u6bcf\u903e\u671f[\u4e00\u5929]{PERIOD}\uff0c\u5e94\u6309\u903e\u671f\u91d1\u989d\u7684[1%]{RATE}\u5411\u6536\u6b3e\u65b9\u652f\u4ed8\u8fdd\u7ea6\u91d1\u3002\n\n  #\u4e8b\u4ef6.\u8fdd\u7ea6 #\u8fdd\u7ea6.\u51fa\u79df\u65b9.\u4ea4\u4ed8.\u79df\u8d41\u7269 #\u8fdd\u7ea6\u8d23\u4efb.\u8865\u507f.\u8fdd\u7ea6\u91d1.\u8ba1\u7b97\u65b9\u5f0f.\u6bcf\u903e\u671f\u4e00\u5929 #\u8fdd\u7ea6\u8d23\u4efb.\u8865\u507f.\u987a\u5ef6\n  2. \u4e59\u65b9\u5ef6\u8fdf\u4ea4\u623f\u7684\uff0c\u6bcf\u903e\u671f[\u4e00\u5929]{PERIOD}\uff0c\u5e94\u5411\u7532\u65b9\u652f\u4ed8\u8fdd\u7ea6\u91d1[100\u5143]{DATE}\uff0c\u5e76\u5c06\u79df\u671f\u505a\u76f8\u5e94\u7684\u987a\u5ef6\u3002\n  \n}\n\n{#\u4e8b\u4ef6.\u4e0d\u53ef\u6297\u529b #\u7ea6\u5b9a.\u89e3\u9664\u5408\u540c\n  \u516b\u3001\u53d1\u751f\u5982\u4e0b\u60c5\u5f62\uff0c\u4efb\u4f55\u4e00\u65b9\u6709\u6743\u89e3\u9664\u5408\u540c\uff0c\u5e76\u4e0d\u627f\u62c5\u8fdd\u7ea6\u8d23\u4efb\uff1a\n\n  #\u4e8b\u4ef6.\u4e0d\u53ef\u6297\u529b.\u653f\u5e9c\u884c\u4e3a.\u62c6\u8fc1\n  1. \u8be5\u95e8\u5e02\u623f\u88ab\u653f\u5e9c\u5217\u5165\u62c6\u8fc1\u8303\u56f4\uff1b\n\n  #\u4e8b\u4ef6.\u4e0d\u53ef\u6297\u529b.\u91cd\u5927\u707e\u5bb3\n  2. \u53d1\u751f\u5730\u9707\u3001\u706b\u707e\u7b49\u4e0d\u53ef\u6297\u529b\u3002\n\n}\n\n#\u4e89\u8bae\u89e3\u51b3 #\u4e89\u8bae\u89e3\u51b3.\u65b9\u5f0f.\u6cd5\u9662\u8d77\u8bc9 #\u4e89\u8bae\u89e3\u51b3.\u5730\u70b9.\u5408\u540c\u4e00\u65b9\u6240\u5728\u5730\n\u4e5d\u3001\u53cc\u65b9\u53d1\u751f\u4e89\u8bae\u534f\u8c03\u4e0d\u6210\u7684\uff0c\u5e94\u5411\u7532\u65b9\u6240\u5728\u5730\u4eba\u6c11\u6cd5\u9662\u8d77\u8bc9\u3002\n"}))}}]),t}(a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(r.a.createElement(m,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})},39:function(e,t,n){"use strict";n.d(t,"a",function(){return h});var a=n(8),r=n(9),o=n(11),i=n(10),c=n(12),l=n(0),s=n.n(l),u=n(4),d=n.n(u),h=function(e){function t(e){return Object(a.a)(this,t),Object(o.a)(this,Object(i.a)(t).call(this,e))}return Object(c.a)(t,e),Object(r.a)(t,[{key:"render",value:function(){var e=this.props,t=e.title,n=e.className,a=e.children;return s.a.createElement("div",{className:d()("pane",n)},s.a.createElement("div",{className:"pane-title"},s.a.createElement("h2",null,t)),s.a.createElement("div",{className:"pane-content"},a))}}]),t}(s.a.Component);h.defaultProps={title:"pane",className:""}},58:function(e,t,n){"use strict";(function(e){n.d(t,"a",function(){return O});var a=n(8),r=n(9),o=n(11),i=n(10),c=n(12),l=n(31),s=n(14),u=n.n(s),d=n(0),h=n.n(d),m=n(15),f=n(32),p=n(39),v=n(66),E=n(67),b=(n(137),n(139),n(141),n(64)),g=n(65),y=m.Node,N=m.NodeType,k=function(t){var n=y.create(N.ROOT);try{n=m.parse(t),e.node=n,console.info('Root node exported as global variable "node"',n)}catch(c){if(c instanceof m.ParseError){var a="\n        [ParseError]{ERROR.TYPE}: {#MESSAGE ".concat(c.message,"}\n\n        #SOURCE\n        content\n\n        from {#POS.START ").concat(c.from.ln,":").concat(c.from.col,"} to {#POS.END ").concat(c.to.ln,":").concat(c.to.col,"}\n      "),r=(n=m.parse(a)).querySelector("#SOURCE"),o=c.from.line.text;if(!r)return n;var i=r.findOneBy({type:N.TEXT});if(!i)return n;i.content="".concat(o," "),i.createEntitiesFromText([{type:"ERROR",start:c.from.col-1,end:c.to.col-1}])}else n=m.parse("Error: [".concat(c.message,"]{MESSAGE}")),console.error(c)}return n},O=function(e){function t(e){var n;return Object(a.a)(this,t),(n=Object(o.a)(this,Object(i.a)(t).call(this,e))).state={source:e.defaultSource,root:k(e.defaultSource),sourcePaneHeight:-1},n.onResize=u.a.throttle(n.onResize.bind(Object(l.a)(Object(l.a)(n))),500),n.preventSourceChange=!1,n}return Object(c.a)(t,e),Object(r.a)(t,[{key:"componentDidMount",value:function(){window.addEventListener("resize",this.onResize,{passive:!0}),this.onResize()}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this.onResize)}},{key:"componentWillReceiveProps",value:function(e){}},{key:"componentWillUpdate",value:function(e,t){t.selectedNode!==this.state.selectedNode&&console.log("selected node:",t.selectedNode),t.root!==this.state.root&&console.log("new node:",t.root)}},{key:"onResize",value:function(){var e=window.innerHeight-60;this.setState({sourcePaneHeight:e})}},{key:"handleSourceChange",value:function(e){this.preventSourceChange||this.setState({root:k(e),selectedNode:void 0})}},{key:"handleNodeChange",value:function(e,t){var n=this;e&&(this.preventSourceChange=!0,this.setState({source:e.toSource({simple:!0}),selectedNode:t},function(){n.preventSourceChange=!1}))}},{key:"render",value:function(){var e=this,t=this.state.source,n=this.state,a=n.root,r=n.sourcePaneHeight,o=n.selectedNode,i=n.hoveredNode;return h.a.createElement("div",{className:"zaml-editor"},h.a.createElement("header",null,h.a.createElement("a",{className:"project-link",href:"https://github.com/nexushubs/zaml-lang/tree/master/packages/zaml-editor"},h.a.createElement(b.a,{className:"logo"})," Editor"),h.a.createElement("a",{className:"github-link",href:"https://github.com/nexushubs/zaml-lang"},"View on Github")),h.a.createElement("section",{className:"editor-panes"},h.a.createElement(f.a,{split:"vertical",defaultSize:"33.33%",minSize:200},h.a.createElement(p.a,{title:"Source"},h.a.createElement(v.a,{value:t,height:r-40,onChange:function(t){return e.handleSourceChange(t)}})),h.a.createElement(f.a,{split:"vertical",defaultSize:"50%"},h.a.createElement(p.a,{title:"Visual"},h.a.createElement(E.a,{root:a,selectedNode:i||o,onSelect:function(t){return e.setState({selectedNode:t})},onChange:function(t,n){return e.handleNodeChange(t,n)}})),h.a.createElement(p.a,{title:"AST"},h.a.createElement(g.a,{root:a,selectedNode:o,onSelect:function(t){return e.setState({selectedNode:t})},onHover:function(t){return e.setState({hoveredNode:t})},onChange:function(t){return e.handleNodeChange(a,t)}}))))))}}]),t}(h.a.Component);O.defaultProps={defaultSource:"",className:"",onChange:function(){}}}).call(this,n(23))},64:function(e,t,n){"use strict";n.d(t,"a",function(){return f});var a=n(0),r=n.n(a);function o(){return(o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}var i=r.a.createElement("title",null,"ZAML-logo"),c=r.a.createElement("path",{fill:"#fff",d:"M132.27,162.53,182.46,35.88h10.68L242.7,162.53h-9.83L216.64,122H158.11l-16.23,40.58Zm81.16-48.7L187.38,45.7l-26.7,68.13Z"}),l=r.a.createElement("path",{fill:"#fff",d:"M404.81,35.88h8.54V154.42h68.14v8.12H404.81Z"}),s=r.a.createElement("circle",{fill:"#fff",cx:91,cy:44.5,r:4}),u=r.a.createElement("path",{fill:"#fff",d:"M115.47,35.5h-5a54.66,54.66,0,0,0-1-10.36c-1.07-4.28-6.09-10.34-6.3-10.6l-1.5-1.8-5.3,11.14-1-2c-2.21-4.43-10.89-7.42-11.87-7.75l-2.19-.73L83.4,35.5H36v0c-7.77.27-14,11.14-14,19s6.23,9.71,14,10v0H89.75L22.31,154.42v8.12h92.32l4.23.11S121,159.5,121,153.5s-3.4-15-12.5-15c-6.78,0-14.5,5-23.5,7S60,147.3,54.63,147c5.75-5.44,12.61-12,19.66-19H92.56l.42-.37c1-.87,24.31-21.36,30.37-34.5s7.1-54.83,7.14-56.59l0-1.59ZM49.84,147.41c-3.23-.24-7.53-.76-9.84-1.91a10.79,10.79,0,0,1-4.46-3.93l9.58-12.91,22.46,1.73C61.06,136.77,54.88,142.66,49.84,147.41ZM95,63.5s-1.76-7.52-1-10c1-3.4,7.94-10.83,12-15h8.53c0,.53,0,1.17,0,1.9l-.1.41C109,43.74,97.93,51.53,97,53.5S96.52,61,99.31,64.66c-1.35-.1-2.72-.27-4-.44l-.09-.06A4.8,4.8,0,0,0,95,63.5ZM109,76a79.27,79.27,0,0,1-9,2.49c-5,1-13,0-13,0l3-8s11,0,15-1a22.68,22.68,0,0,0,6.55-3.2C110.86,69.46,110,72.72,109,76ZM100,55.5c1.27-4.12,11.13-10.58,14.13-12.46l.28,1.1c-.09,2-.25,4.37-.5,7-4.19,1.21-7.81,2.49-8.57,3.26-1.53,1.54-2.77,6.17-1.83,10.35a22.78,22.78,0,0,1-2.67,0C100.42,62.8,99.38,57.51,100,55.5Zm12.46,6.2a52.93,52.93,0,0,1-7,2.68c.39-2.42,1.09-5.83,2-7.11s3.41-2.62,6.16-3.69C113.36,56.12,113,58.85,112.46,61.7ZM93.9,103.48l-2.23,2.41c-2.73.33-7.34.94-10.66,1.61-5,1-14-1-14-1l5-7s10,2,15,2a46.82,46.82,0,0,0,9.79-1.43Q95.42,101.83,93.9,103.48Zm-18,18.63c-2.09.61-8.46,2.39-10.95,2.39-3,0-11-2-11-2l6-7s10,1,14,1c2.58,0,7.21-1.62,10.2-2.77C81.48,116.53,78.72,119.34,75.95,122.11Zm20.16-16.6.2-.23v0l13.94,1c-1.5,1.69-3,3.36-4.58,5L92.86,109C94,107.83,95,106.67,96.1,105.52Zm3.83-4.64c.83-1.11,1.63-2.24,2.39-3.39l15.58-.87a80.42,80.42,0,0,1-5,6.6Zm2.14-8.73c-2.72.92-7.36,2.36-10.07,2.36-4,0-14-2-14-2l4-7s12,1,17,0a29.42,29.42,0,0,0,7.62-2.87A78.48,78.48,0,0,1,102.07,92.14Zm8.3-10.92,13.49-1.45c-.29,1.68-.6,3.27-.94,4.76L109,84.78Q109.71,83,110.37,81.23Zm1.71-5q.37-1.21.71-2.4l12.31-2.66c-.18,1.52-.38,3-.59,4.49Zm13.51-9.45-11.44,1.84q.49-2.1.88-4.1l11-2.33C125.89,63.65,125.75,65.19,125.59,66.73Zm.8-9-10.45,1.6c.27-1.72.49-3.39.68-5L126.78,52C126.67,53.82,126.54,55.73,126.39,57.69Zm.64-10-9.91,1.46c.11-1.41.2-2.73.26-3.94l9.86-1.83C127.19,44.71,127.12,46.16,127,47.72Zm.35-7.55-9.85,1.1c0-.86,0-1.62,0-2.27l.54-2.71,9.36,1.76C127.44,38.62,127.41,39.35,127.38,40.17ZM103,22.5c1.6,2.16,2.45,2.8,3,5a38,38,0,0,1,1.48,7.5L95,34.5Zm-16-1c2.86,1.2,5.92,2.84,7,5l.57,1.12L91.15,34.8,86.36,35Zm-14.15,40c2.93-3.55,7-9.51,6.15-11s-9.88-8.63-14.57-12h5c3.95,2.86,15,11.13,16.6,15,.66,1.62-2.73,5.58-5,8Zm-8.69,0c2.51-3.93,6.93-11.56,5.59-14.49-1.2-2.61-7.5-6.27-11.75-8.51h4.38C65.77,41,74.46,47.72,76,51.5c.7,1.73-3,7.1-5.09,10ZM58.29,44.86c-1.17-2.24-4.34-4.68-6.84-6.36h5c3.41,2.86,9.22,8,9.44,10s-1.62,9.22-2.66,13H53.83C55.92,57,59.82,47.78,58.29,44.86ZM49.73,38.5c1.57,2.07,3.73,5.17,4,6.9.34,2.07-.46,11.5-.89,16.1H44.16c2.25-4,6.89-12.79,5.84-16a25.41,25.41,0,0,0-4.36-7ZM38,38.5h6.64c1.16,2.25,2.5,5.21,2.5,6.8,0,2.17-2.5,11.94-3.61,16.2H38a33,33,0,0,0,2-11A43.6,43.6,0,0,0,38,38.5Zm45.1,23c3.13-3,7.22-8,6.58-9.11-1.23-2.1-11.76-9.83-18.09-13.89h33.72C100.81,42.24,93.63,48.44,92.43,51c-1.05,2.24-1.78,8.57,1.36,12.27L91,61.5ZM91.43,125H77.3c3.76-3.75,7.52-7.58,11.15-11.36l13.63,1.29C97.09,119.91,92.76,123.82,91.43,125Zm28.4-31.54-14.58-.89q.75-1.37,1.44-2.76l15.15-1.15a26.58,26.58,0,0,1-1.19,3.21C120.4,92.39,120.12,92.92,119.83,93.46Z"}),d=r.a.createElement("rect",{fill:"#fff",x:255,y:36.5,width:14.69,height:15,rx:1.5,ry:1.5}),h=r.a.createElement("rect",{fill:"#fff",x:258.07,y:55.56,width:8.54,height:106.97}),m=r.a.createElement("polygon",{fill:"#fff",points:"364.01 35.88 317.88 151.85 274.33 42.9 274.33 64.8 313.82 162.53 321.72 162.53 368.93 45.7 368.93 162.53 377.47 162.53 377.47 35.88 364.01 35.88"}),f=function(e){return r.a.createElement("svg",o({id:"Layer_1","data-name":"Layer 1",viewBox:"0 0 500 180"},e),i,c,l,s,u,d,h,m)};n.p},65:function(e,t,n){"use strict";var a,r=n(38),o=n(8),i=n(9),c=n(11),l=n(10),s=n(12),u=n(14),d=n.n(u),h=n(0),m=n.n(h),f=n(32),p=(n(2),n(15)),v=n(4),E=n.n(v),b=(n(143),p.NodeType);!function(e){e.Header="header",e.Footer="footer",e.Whole="whole"}(a||(a={}));var g=function(){},y=function(e){function t(e){return Object(o.a)(this,t),Object(c.a)(this,Object(l.a)(t).call(this,e))}return Object(s.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this,n=this.props,r=n.node,o=n.selectedNode,i=n.selectedPart,c=n.expandedNodes,l=n.onSelect,s=n.onSelectPart,u=n.onExpansionChange,m=n.onMouseEnter,f=n.onMouseOut;if(!r)return null;var p=i,v=c.indexOf(r.id)>-1||r.isRoot;v&&p===a.Whole&&(p=a.Header);var g=o===r,y=function(e){return function(t){t.stopPropagation(),l(r),s(e)}},N={onMouseEnter:function(e){function t(t){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}(function(e){e.stopPropagation(),m(r)}),onMouseOut:function(e){function t(t){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}(function(e){e.stopPropagation(),f(r)})},k=null;if(d.a.isEmpty(r.children)?"text"===r.type&&(k=r.content):k=h.createElement("div",{key:"children",className:"children"},d.a.map(r.children,function(n,a){return h.createElement(t,Object.assign({},e.props,{key:a,node:n}))})),r.type===b.TEXT)return h.createElement("div",Object.assign({className:E()("text",{selected:g}),onClick:y(a.Whole)},N),'"',r.content,'"');if(r.type===b.ENTITY||r.isBlock||r.isWrappingTag){var O,C=r.type===b.ENTITY,S=r.type===b.TAG;1===r.children.length&&r.firstChild.type===b.TEXT&&(O=r.firstChild.content);S||C?r.name:r.type;return h.createElement("div",Object.assign({className:E()("block",{expanded:v,selected:g&&p===a.Whole,"node-selected":g}),onClick:v?void 0:y(a.Whole)},N),r.type!==b.ROOT&&h.createElement("span",{className:"indicator",onClick:function(e){e.stopPropagation(),u(r,!v)}},"\u25be"),h.createElement("span",{className:E()("header",{selected:g&&p===a.Header}),onClick:v?y(a.Header):void 0},r.openDescriptorStart,r.labels.map(function(e){return h.createElement("span",{key:e,className:"prop label"},"#",e)}),d.a.keys(r.attributes).map(function(e){var t=r.attributes[e];return h.createElement("span",{key:e,className:"prop attribute"},h.createElement("span",{className:"key"},e),h.createElement("span",{className:"assignment"},"="),h.createElement("span",{className:"value"},JSON.stringify(t)))}),r.openDescriptorEnd),v?k:h.createElement("span",{className:"ellipsis"},d.a.truncate(O,{length:10})||"..."),h.createElement("span",{className:E()("footer",{selected:g&&p===a.Footer}),onClick:v?y(a.Footer):void 0},r.closingDescriptor))}return null}}]),t}(h.Component);y.defaultProps={node:void 0,expandedNodes:[],selectedNode:void 0,selectedPart:a.Whole,onSelect:g,onSelectPart:g,onExpansionChange:g,onMouseEnter:g,onMouseOut:g};p.NodeType;var N=function(e){function t(){return Object(o.a)(this,t),Object(c.a)(this,Object(l.a)(t).apply(this,arguments))}return Object(s.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this.props,t=e.selected,n=e.node,a=e.onClick;return n?m.a.createElement("span",{className:E()("zaml-tree-path-item",n.type,{selected:t}),onClick:a},n.descriptor):null}}]),t}(m.a.Component);N.defaultProps={selected:!1,node:void 0,onClick:function(){}};var k=function(e){function t(e){var n;return Object(o.a)(this,t),(n=Object(c.a)(this,Object(l.a)(t).call(this,e))).state={nodeList:n.buildNodeList(e.selectedNode)},n}return Object(s.a)(t,e),Object(i.a)(t,[{key:"componentWillReceiveProps",value:function(e){var t=this.state.nodeList,n=e.selectedNode;n?d.a.includes(t,n)||this.setState({nodeList:this.buildNodeList(n)}):this.setState({nodeList:[]})}},{key:"buildNodeList",value:function(e){for(var t=[];e;)t.unshift(e),e=e.parent;return t}},{key:"render",value:function(){var e=this.props,t=e.selectedNode,n=e.onSelect,a=this.state.nodeList;return m.a.createElement("div",{className:"zaml-tree-path"},a.map(function(e){return m.a.createElement(N,{key:e.id,selected:e===t,node:e,onClick:function(){return n(e)}})}))}}]),t}(m.a.Component);k.defaultProps={selectedNode:void 0,onSelect:function(){}};var O=function(e){function t(){var e,n;Object(o.a)(this,t);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(n=Object(c.a)(this,(e=Object(l.a)(t)).call.apply(e,[this].concat(r)))).state={},n}return Object(s.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return m.a.createElement("div",{className:"zaml-tree-toolbar"},"toolbar")}}]),t}(m.a.Component);O.defaultProps={};n(145),n(147);var C,S=function(e){function t(){return Object(o.a)(this,t),Object(c.a)(this,Object(l.a)(t).apply(this,arguments))}return Object(s.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this.props,t=e.tabs,n=e.selectedTab,a=e.onTabChange,r=e.children;return m.a.createElement("div",{className:"tab-view"},m.a.createElement("ul",{className:"tabs"},t.map(function(e){return m.a.createElement("li",{key:e,className:E()("tab",{selected:e===n}),onClick:function(){return a(e)}},m.a.createElement("span",{className:"label"},e))})),m.a.createElement("div",{className:"content"},r))}}]),t}(m.a.Component);!function(e){e.Labels="Labels",e.Attributes="Attributes",e.Metadata="Metadata"}(C||(C={}));var j=d.a.values(C),x=j[0],T=-1,L=function(e){function t(){var e,n;Object(o.a)(this,t);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(n=Object(c.a)(this,(e=Object(l.a)(t)).call.apply(e,[this].concat(r)))).state={selectedTab:x,editingIndex:T,inlineError:""},n.editingElement=null,n}return Object(s.a)(t,e),Object(i.a)(t,[{key:"componentWillReceiveProps",value:function(e){e.node!==this.props.node&&this.setState({selectedTab:x,editingIndex:T})}},{key:"renderValue",value:function(e){return e instanceof p.Node?e.toSource():JSON.stringify(e)}},{key:"renderEmptyTip",value:function(){return m.a.createElement("div",{className:"select-tip"},"Please select a node")}},{key:"renderTabContent",value:function(){var e=this.props.node,t=this.state.selectedTab;if(!e)return this.renderEmptyTip();switch(t){case C.Labels:return this.renderLabelEditor(e);case C.Attributes:return this.renderAttributeEditor(e,e.attributes);case C.Metadata:return this.renderAttributeEditor(e,e.metadata)}}},{key:"focusEditingElement",value:function(){this.editingElement&&(this.editingElement.focus(),this.editingElement.select())}},{key:"handleLabelEdit",value:function(e){var t=this;this.setState({editingIndex:e},function(){t.focusEditingElement()})}},{key:"handleLabelUpdate",value:function(e){var t=this.props,n=t.node,a=t.onChange,r=this.state.editingIndex;if(n){var o=n.labels[r]||"";if(e!==o){try{p.parse("{INLINE #".concat(e,"}TESTING{/INLINE}"))}catch(i){return void this.setState({inlineError:"Invalid label"})}r===n.labels.length?n.addLabel(e):""===e||n.labels.indexOf(e)>=0?n.removeLabel(o):n.labels[r]=e}this.cancelLabelEditing(),a(n)}}},{key:"cancelLabelEditing",value:function(){this.setState({editingIndex:T,inlineError:""})}},{key:"renderLabelEditor",value:function(e){var t=this,n=this.state,a=n.editingIndex,o=n.inlineError,i=Object(r.a)(e.labels).concat([""]);return m.a.createElement("div",{className:"label-editor"},m.a.createElement("table",null,m.a.createElement("tbody",null,i.map(function(e,n){return m.a.createElement("tr",{key:e,className:E()({error:n===a&&o})},m.a.createElement("td",{className:"marker"},e||n===a?"#":""),n===a?m.a.createElement("td",null,m.a.createElement("input",{ref:function(e){return t.editingElement=e},defaultValue:e,onBlur:function(e){t.handleLabelUpdate(e.currentTarget.value)},onKeyDown:function(e){"Enter"===e.key?t.handleLabelUpdate(e.currentTarget.value):"Escape"===e.key&&t.cancelLabelEditing()}})):m.a.createElement("td",{className:"editable",onClick:function(){return t.handleLabelEdit(n)}},e))}))))}},{key:"renderAttributeEditor",value:function(e,t){var n=this,a=Object.keys(t);return m.a.createElement("div",{className:"attribute-editor"},m.a.createElement("table",null,m.a.createElement("tbody",null,a.map(function(e){return m.a.createElement("tr",{key:e},m.a.createElement("th",null,e),m.a.createElement("td",null,n.renderValue(t[e])))}))))}},{key:"render",value:function(){var e=this,t=(this.props.node,this.state.selectedTab);return m.a.createElement("div",{className:"zaml-prop-editor"},m.a.createElement(S,{tabs:j,selectedTab:t,onTabChange:function(t){return e.setState({selectedTab:t})}},this.renderTabContent()))}}]),t}(m.a.Component);L.defaultProps={onChange:function(){}};n(149);n.d(t,"a",function(){return R});var P=function(){},R=function(e){function t(){var e,n;Object(o.a)(this,t);for(var r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];return(n=Object(c.a)(this,(e=Object(l.a)(t)).call.apply(e,[this].concat(i)))).state={selectedPart:a.Header,expandedNodes:[]},n}return Object(s.a)(t,e),Object(i.a)(t,[{key:"handleExpansionChange",value:function(e,t){var n=this.props.selectedNode,o=this.state.expandedNodes;n===e&&this.setState({selectedPart:t?a.Header:a.Whole}),t&&!d.a.includes(o,e.id)?this.setState({expandedNodes:Object(r.a)(o).concat([e.id])}):!t&&d.a.includes(o,e.id)&&this.setState({expandedNodes:d.a.without(o,e.id)})}},{key:"componentWillReceiveProps",value:function(e){var t=e.selectedNode;if(t&&t!==this.props.selectedNode){var n=this.state.expandedNodes,a=t.path.map(function(e){return e.id});this.setState({expandedNodes:d.a.union(n,a)})}}},{key:"render",value:function(){var e=this,t=this.props,n=t.root,a=t.selectedNode,r=t.onSelect,o=t.onHover,i=t.onChange,c=this.state,l=c.expandedNodes,s=c.selectedPart;return m.a.createElement("div",{className:"zaml-tree-view"},m.a.createElement(f.a,{split:"horizontal",defaultSize:"60%",minSize:200},m.a.createElement("div",{className:"tree-container"},m.a.createElement(O,null),m.a.createElement("div",{className:"tree"},m.a.createElement(y,{node:n,selectedNode:a,selectedPart:s,expandedNodes:l,onSelect:r,onSelectPart:function(t){return e.setState({selectedPart:t})},onMouseEnter:o,onMouseOut:function(){return o()},onExpansionChange:function(t,n){return e.handleExpansionChange(t,n)}})),m.a.createElement(k,{selectedNode:a,onSelect:r})),m.a.createElement(L,{node:a,onChange:i})))}}]),t}(m.a.Component);R.defaultProps={onSelect:P,onHover:P,onChange:P}},66:function(e,t,n){"use strict";var a=n(8),r=n(9),o=n(11),i=n(10),c=n(12),l=n(0),s=n.n(l),u=n(59),d=(n(113),n(115),n(117),n(36)),h=n.n(d);n(119);h.a.defineSimpleMode("zaml",{start:[{regex:/#[^#\s\n}]+/,token:"variable-3"},{regex:/{\/?([^\s}]+)}/,token:"keyword"},{regex:/[^\s{\n]+(?=[:\uff1a=][^\n])/,token:"variable-2"},{regex:/{|}/,token:"def"},{regex:/(?={)[^\s}]+/,token:"keyword"},{regex:/\[[^\]]+\]/,token:"string"},{regex:/(?:BLOCK|INLINE)\b/,token:"keyword"},{regex:/true|false|null|undefined/,token:"atom"},{regex:/0x[a-f\d]+|[-+]?(?:\.\d+|\d+\.?\d*)(?:e[-+]?\d+)?/i,token:"number"},{regex:/~[^~].*/,token:"comment"},{regex:/~~~/,token:"comment",next:"comment"},{regex:/\/(?:[^\\]|\\.)*?\//,token:"variable-3"},{regex:/[\{]/,indent:!0},{regex:/[\}]/,dedent:!0}],comment:[{regex:/.*?~~~/,token:"comment",next:"start"},{regex:/.*/,token:"comment"}],meta:{dontIndentStates:["comment"],lineComment:"~"}}),n.d(t,"a",function(){return f});var m={mode:"zaml",lineNumbers:!0,lineWrapping:!0},f=function(e){function t(e){var n;return Object(a.a)(this,t),(n=Object(o.a)(this,Object(i.a)(t).call(this,e))).state={value:e.value},n}return Object(c.a)(t,e),Object(r.a)(t,[{key:"componentWillReceiveProps",value:function(e){this.editor&&(e.height!==this.props.height&&this.editor&&this.editor.setSize(null,e.height),e.value!==this.props.value&&this.editor.setValue(e.value))}},{key:"render",value:function(){var e=this,t=this.props.onChange,n=this.state.value;return s.a.createElement("div",{className:"zaml-source"},s.a.createElement(u.Controlled,{value:n,options:m,onBeforeChange:function(t,n,a){return e.setState({value:a})},onChange:function(e){function t(t,n,a){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}(function(e,n,a){return t(a)}),editorDidMount:function(t){return e.editor=t}}))}}]),t}(s.a.Component);f.defaultProps={value:"",height:-1,onChange:function(){}}},67:function(e,t,n){"use strict";var a,r,o,i=n(8),c=n(9),l=n(11),s=n(10),u=n(12),d=n(0),h=n.n(d),m=n(15),f=n(156),p=n(136),v=n(151),E=n(153),b=n(14),g=n.n(b),y=n(4),N=n.n(y),k=(n(120),m.NodeType),O=function(e){function t(e){return Object(i.a)(this,t),Object(l.a)(this,Object(s.a)(t).call(this,e))}return Object(u.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e,n=this,a=this.props,r=a.node,o=a.selectedNode;if(!r)return null;var i=r===o,c=[];if(r.type===k.ROOT)e="div";else if(r.type===k.PARAGRAPH)e="p";else if(r.type===k.TEXT)e="span";else if(r.type===k.ENTITY){if("LINK"===r.name)return h.a.createElement("a",{className:"zaml-entity","node-name":"link","node-id":r.id,href:r.attributes.url},h.a.createElement(t,Object.assign({"node-id":r.children[0].id},this.props,{node:r.children[0]})));e="span"}else e=r.type===k.TAG?r.isBlock?"div":"span":null;return e?(g.a.isEmpty(r.children)?"text"===r.type&&c.push(r.content):c.push(h.a.createElement("span",{key:"children",className:"children"},g.a.map(r.children,function(e,a){return h.a.createElement(t,Object.assign({},n.props,{key:a,node:e}))}))),h.a.createElement(e,{className:N()("zaml-node","".concat(r.type),{block:r.isBlock,selected:i}),"node-name":r.name&&r.name.toLowerCase(),"node-id":r.id},c)):null}}]),t}(h.a.Component);n(122),n(124);n.d(t,"a",function(){return S});var C=m.NodeType,S=Object(f.a)((o=r=function(e){function t(e){var n;return Object(i.a)(this,t),(n=Object(l.a)(this,Object(s.a)(t).call(this,e))).handleContextMenu=function(e,t){n.currentNode=t,n.setState({node:t})},n.state={},n}return Object(u.a)(t,e),Object(c.a)(t,[{key:"handleDoubleClick",value:function(e){var t=window.getSelection();if(0!==t.rangeCount){var n=t.getRangeAt(0),a=n.startContainer,r=a.textContent;if(r){e.preventDefault(),e.stopPropagation();for(var o=/[!?:;\u3002\uff01\uff1f\uff1a\uff1b]/g,i=0,c=r.length,l=0;o.exec(r);)if(i=l,l=o.lastIndex,o.lastIndex++,l>n.startOffset){c=l;break}n.setStart(a,i),n.setEnd(a,c)}}}},{key:"handleCreateBlock",value:function(){var e=this.props,t=e.root,n=e.onChange,a=window.getSelection();if(0!==a.rangeCount){var r=a.getRangeAt(0),o=this.getNodeByElement(r.commonAncestorContainer),i=this.getNodeByElement(r.startContainer),c=this.getNodeByElement(r.endContainer);if(o&&i&&c){var l=m.Node.createBlockByRange({startNode:i,startOffset:r.startOffset,endNode:c,endOffset:r.endOffset});a.removeAllRanges(),n(t,l)}}}},{key:"handleRemoveBlock",value:function(e){if(e){var t=this.props,n=t.root;(0,t.onChange)(n,e.flatten())}}},{key:"handleCreateEntity",value:function(e,t){if(t){var n=this.props,a=n.root,r=n.onChange,o=window.getSelection();if(o.anchorNode===o.focusNode){if(0!==o.rangeCount){var i=o.getRangeAt(0);r(a,e.createEntities([{type:t,start:i.startOffset,end:i.endOffset}])[0])}}else alert("Entity is only allowed in pure text!")}}},{key:"handleRemoveEntity",value:function(e){if(e){var t=this.props,n=t.root;(0,t.onChange)(n,e.removeEntity())}}},{key:"handleInspect",value:function(e){(0,this.props.onSelect)(e)}},{key:"handleSplitSentences",value:function(e){if(e){var t=this.props,n=t.root,a=t.onChange;e.splitText("\uff1a\u3002\uff01\uff1f","SENTENCE"),a(n)}}},{key:"getNodeByElement",value:function(e){var t=this.props.root;if(t){if(e.nodeType===e.TEXT_NODE||e.classList.contains("children")){if(!e.parentElement)return;e=e.parentElement}var n=e.getAttribute("node-id");if(n)return t.getNodeById(n)}}},{key:"render",value:function(){var e=this,t=this.props,n=t.root,a=t.selectedNode;return h.a.createElement("div",{className:"zaml-visual-editor",onDoubleClick:function(t){return e.handleDoubleClick(t)}},h.a.createElement(O,{node:n,selectedNode:a}))}},{key:"renderContextMenu",value:function(e){var t=this,n=this.props.commonEntityNames,a=this.getNodeByElement(e.target),r=a;if(a&&(a.type===C.TEXT&&(r=a.parent),r)){var o=r;return h.a.createElement(p.a,{id:"menu"},h.a.createElement(v.a,{disabled:!0,text:r.descriptor}),h.a.createElement(E.a,null),h.a.createElement(v.a,{text:"Create Block",onClick:function(){return t.handleCreateBlock()}}),r.isWrappingTag&&h.a.createElement(v.a,{text:"Remove Block",onClick:function(){return t.handleRemoveBlock(r)}}),r.isBlock&&h.a.createElement(v.a,{text:"Split Sentences",onClick:function(){return t.handleSplitSentences(r)}}),a.type===C.TEXT&&a.parent&&a.parent.type!==C.ENTITY&&h.a.createElement(v.a,{text:"Create Entity"},n&&n.map(function(e){return h.a.createElement(v.a,{key:e,text:e,onClick:function(){return t.handleCreateEntity(a,e)}})}),h.a.createElement(v.a,{text:"other...",onClick:function(){return t.handleCreateEntity(a,prompt("Please input entity type","PER"))}})),r.type===C.ENTITY&&h.a.createElement(v.a,{text:"Remove Entity",onClick:function(){return t.handleRemoveEntity(r)}}),h.a.createElement(E.a,null),h.a.createElement(v.a,{text:"Inspect",onClick:function(){return t.handleInspect(o)}}))}}}]),t}(h.a.Component),r.defaultProps={commonEntityNames:["PER","ORG","LOC","DATE"],onSelect:function(){},onChange:function(){}},a=o))||a},72:function(e,t,n){e.exports=n(152)},77:function(e,t,n){},79:function(e,t,n){}},[[72,2,1]]]);
//# sourceMappingURL=main.4b0cb5f2.chunk.js.map